<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Manifest Editor</title>

    <script type="module" src="/dist/index.js"></script>

    <link rel="stylesheet" href="/global.css" />

    <!-- Make sure to include the styles and component imports when using the manifest editor -->

    <link rel="stylesheet" href="node_modules/@shoelace-style/shoelace/dist/themes/light.css" />

    <script type="module">
      import '@shoelace-style/shoelace/dist/components/button/button';
      import '@shoelace-style/shoelace/dist/components/checkbox/checkbox';
      import '@shoelace-style/shoelace/dist/components/color-picker/color-picker';
      import '@shoelace-style/shoelace/dist/components/details/details';
      import '@shoelace-style/shoelace/dist/components/divider/divider';
      import '@shoelace-style/shoelace/dist/components/icon-button/icon-button';
      import '@shoelace-style/shoelace/dist/components/input/input';
      import '@shoelace-style/shoelace/dist/components/menu/menu';
      import '@shoelace-style/shoelace/dist/components/menu-item/menu-item';
      import '@shoelace-style/shoelace/dist/components/menu-label/menu-label';
      import '@shoelace-style/shoelace/dist/components/select/select';
      import '@shoelace-style/shoelace/dist/components/tab/tab';
      import '@shoelace-style/shoelace/dist/components/tab-group/tab-group';
      import '@shoelace-style/shoelace/dist/components/tab-panel/tab-panel';
      import '@shoelace-style/shoelace/dist/components/textarea/textarea';
      import '@shoelace-style/shoelace/dist/components/tooltip/tooltip';

      // make sure to set base path so icons can be resolved
      import { setBasePath } from '@shoelace-style/shoelace/dist/utilities/base-path.js';
      setBasePath('/node_modules/@shoelace-style/shoelace/dist/');
    </script>
   
  </head>

  <body>
    <div id="editor-holder">
      <div id="close"><ion-icon name="close"></ion-icon></div>
      <div id="editor-header">
        <div id="header-text">
          <h1>Generate a manifest</h1>
          <p>Generate your Manifest Base Files Package below by editing the required fields. Once you have added the updated manifest to your PWA, re-test the url. Once you are satisfied with your score package your PWA for the stores.</p>
        </div>
        <div id="header-actions">
          <button id="download-button">Download Manifest</button>
          <button id="reset-button">Reset to original Manifest <ion-icon name="refresh"></ion-icon></button>
          <div id="actions">
            <span class="header-action"><a href="https://marketplace.visualstudio.com/items?itemName=PWABuilder.pwa-studio" target="_blank" rel="noopener">VS Code Extension </a> <img src="/assets/arrow.svg" alt="arrow" /> </span>
            <span class="header-action"><a href="https://developer.mozilla.org/en-US/docs/Web/Manifest" target="_blank" rel="noopener">Manifest Documentation </a> <img src="/assets/arrow.svg" alt="arrow" /> </span>
          </div>
        </div>
      </div>
      <pwa-manifest-editor></pwa-manifest-editor>
    </div>
    <!-- Ion Icons -->
    <script type="module" src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule="" src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons/ionicons.js"></script>

    <script type="module">
      let editor = document.querySelector("pwa-manifest-editor");

      /* let resetBtn = document.getElementById("reset-button");
      resetBtn.addEventListener("click", () => {
        editor.resetManifest();
      });

      let downloadBtn = document.getElementById("download-button");
      downloadBtn.addEventListener("click", () => {
        editor.downloadManifest();
      }); */

      editor.initialManifest = {
  "name": "Sync'd - a Social Calendar App",
  "display": "standalone",
  "start_url": "/",
  "short_name": "sync'd",
  "theme_color": "#E1477E",
  "description": "An easy to use event calendar for busy groups to plan time with one another!",
  "orientation": "any",
  "background_color": "#DDBDD5",
  "related_applications": [
    {
      "platform": "play",
      "url": "https://play.google.com/store/apps/details?id=works.jubilee.timetree",
      "id": "works.jubilee.timetree"
    },
    {
      "platform": "windowss",
      "url": "https://play.google.com/store/apps/details?id=works.jubilee.timetree",
      "id": "works.jubilee.timetree"
    }
  ],
  "prefer_related_applications": "false",
  "display_override" : ["window-controls-overlay"],
  "icons": [
    {
      "src": "assets/icons/logo_64.png",
      "sizes": "64x64",
      "type":"image/png"
    },
    {
      "src": "assets/icons/logo_128.png",
      "sizes": "128x128",
      "type":"image/png"
    },
    {
      "src": "assets/icons/logo_512.png",
      "sizes": "512x512",
      "type":"image/png",
      "purpose": "any"
    },
    {
      "src": "assets/icons/logo_1024.png",
      "sizes": "1024x1024",
      "type":"image/png"
    }
  ],
  "screenshots": [
    {
      "src": "assets/screenshots/login_screenshot.png"
    },
    {
      "src": "assets/screenshots/calendar_screenshot.png"
    },
    {
      "src": "assets/screenshots/addevent_screenshot.png"
    },
    {
      "src": "assets/screenshots/mobile_screenshot.png"
    },
    {
      "src": "assets/screenshots/tablet_screenshot.png"
    }
  ],
  "categories": [
    "utility",
    "productivity",
    "social"
  ],
  "dir": "ltr",
  "lang": "en-US",
  "iarc_rating_id": "465b8cee-af02-4012-8d4b-bcd3ebec0f3b",
  "scope": "/",
  "shortcuts": [
    {
      "name": "login",
      "url": "/login",
      "description": "Login to Sync'd"
    }
  ],
  "share_target": {},
  "protocol_handlers": [
    {
      "protocol": "web+jngl",
      "url": "/lookup?type=%s"
    },
    {
      "protocol": "web+jnglstore",
      "url": "//shop?for=%s"
    }
  ]
};
      editor.manifestURL = "https://friendship-calendar-c0efc.web.app/manifest.json"

      let editedManifest = editor.manifest; // get edited or generated manifest
      //console.log(editedManifest);

      //editor.addEventListener('manifestUpdated', (e) => { console.log("Manifest Updated") });

      //editor.addEventListener('screenshotsUpdated', (e) => { console.log("Screenshots Updated") });
      //let screenshots = editor.getScreenshots(); // get blobs of all screenshots

      /*
      let icons = editor.getIcons(); // get blobs of all icons

      // events
      editor.addEventListener('iconsUpdated', (e) => { });
      */

   </script>
  </body>
</html>

