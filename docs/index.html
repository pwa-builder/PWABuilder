<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>PWABuilder Suite Documentation - test</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="Documentation for building great progressive web apps with the PWABuilder tooling suite.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta property="og:image" content="/assets/icons/share-logo.png">
    
    <!-- Google Site Verification for Google Search Console dashboard -->
    <meta name="google-site-verification" content="HPBaodfLBvVIFzKwWeIWMwaIwH_ArRkSG1xjWhpqhhg" />

    <link rel="icon" href="/assets/icons/icon_24.png" type="image/png" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.20.1/dist/themes/light.css" />
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.20.1/cdn/shoelace-autoloader.js"></script>

    <link rel="stylesheet" href="styles/global.css"/>
    <link rel="stylesheet" href="styles/vs-prism.css" />
    <link rel="manifest" href="manifest.json" />

</head>

<body>
    <div id="app"></div>
    <!-- ARIA live region for search result announcements -->
    <div id="search-announcements" aria-live="polite" aria-atomic="true" class="sr-only"></div>

    <script type="text/javascript" src="https://js.monitor.azure.com/scripts/c/ms.analytics-web-3.min.js"></script>

    <script type="module">
        import { recordPageView, recordPageAction } from "./public/analytics/index.js"; 
        window.recordPageView = recordPageView;
        window.recordPageAction = recordPageAction;
    </script>

    <script>
        function getPageName() {
            var pageName = "docs-home-about";
            try {
                var results = (document.location.href).match("#\/[a-zA-Z\/-]+");
                var parsedSubURL = results[0];
                pageName = "docs" + parsedSubURL.replace("#", "").replaceAll("/", "-");
            } catch {
                console.warn("Failed to parse page name at: " + document.location.href);
            }

            return pageName;
        }

        window.$docsify = {
            repo: 'https://github.com/pwa-builder/PWABuilder',
            loadSidebar: true,
            subMaxLevel: 2,
            auto2top: true,
            executeScript: true,
            externalLinkTarget: '_self',
            plugins: [
                function(hook) {
                    hook.doneEach(function() {
                        window.recordPageView(document.location.href, getPageName());
                    });
                },
                function(hook) {
                    var summitBanner = [
                        '<sl-alert open>',
                        '<sl-icon slot="icon" name="bookmark-heart"></sl-icon>',
                        '<div>',
                        '<strong> New blog post! See how to enable in-app purchases on iOS in your PWA! </strong><br />',
                        'Our latest post, <a href="https://blog.pwabuilder.com/posts/you-won\'t-believe-how-we-enabled-in-app-purchases-for-pwas-on-ios/"><b>You Won\â€™t Believe How We Enabled In-App Purchases for PWAs on iOS</b></a>, demonstrates what it takes to get iOS in-app purchases working on a Progressive Web App. Go check it out!',
                        '</div>',
                        '</sl-alert>'
                    ].join('');

                    hook.afterEach(function(html) {
                        return summitBanner + html;
                    });
                }
            ]
        };
    </script>
    
    <script>
        // Accessibility enhancement for search results
        function initializeSearchAccessibility() {
            const searchAnnouncementsEl = document.getElementById('search-announcements');
            let lastSearchTerm = '';
            let searchTimeout;
            
            // Function to announce search results status
            function announceSearchResults(resultsCount, searchTerm) {
                if (!searchAnnouncementsEl || !searchTerm) return;
                
                let message = '';
                if (resultsCount === 0) {
                    message = `No search results found for "${searchTerm}". Please try different keywords.`;
                } else if (resultsCount > 0) {
                    message = `${resultsCount} search result${resultsCount === 1 ? '' : 's'} found for "${searchTerm}".`;
                }
                
                if (message) {
                    searchAnnouncementsEl.textContent = message;
                    // Clear the message after a delay to avoid repetitive announcements
                    setTimeout(() => {
                        searchAnnouncementsEl.textContent = '';
                    }, 1000);
                }
            }
            
            // Function to check search results
            function checkSearchResults() {
                const searchInput = document.querySelector('.search input[type="search"]');
                const searchTerm = searchInput ? searchInput.value.trim() : '';
                
                if (searchTerm && searchTerm !== lastSearchTerm) {
                    lastSearchTerm = searchTerm;
                    
                    // Clear previous timeout
                    if (searchTimeout) {
                        clearTimeout(searchTimeout);
                    }
                    
                    // Wait for search results to populate then check
                    searchTimeout = setTimeout(() => {
                        // Try multiple possible selectors for search results
                        let resultItems = document.querySelectorAll('.search .results-panel .matching-post');
                        if (resultItems.length === 0) {
                            resultItems = document.querySelectorAll('.search ul li');
                        }
                        if (resultItems.length === 0) {
                            resultItems = document.querySelectorAll('.results-panel li');
                        }
                        if (resultItems.length === 0) {
                            resultItems = document.querySelectorAll('.search .results li');
                        }
                        
                        announceSearchResults(resultItems.length, searchTerm);
                    }, 300);
                } else if (!searchTerm && lastSearchTerm) {
                    // Search was cleared
                    lastSearchTerm = '';
                    if (searchAnnouncementsEl) {
                        searchAnnouncementsEl.textContent = '';
                    }
                }
            }
            
            // Function to setup search monitoring
            function setupSearchMonitoring() {
                const searchInput = document.querySelector('.search input[type="search"]');
                if (!searchInput) {
                    // Search input doesn't exist yet, try again later
                    setTimeout(setupSearchMonitoring, 500);
                    return;
                }
                
                // Monitor search input changes
                searchInput.addEventListener('input', checkSearchResults);
                searchInput.addEventListener('keyup', checkSearchResults);
                
                // Also monitor DOM changes in the search area
                const searchContainer = document.querySelector('.search');
                if (searchContainer) {
                    const observer = new MutationObserver(function(mutations) {
                        mutations.forEach(function(mutation) {
                            if (mutation.type === 'childList' || mutation.type === 'subtree') {
                                // Delay check to allow results to populate
                                setTimeout(checkSearchResults, 100);
                            }
                        });
                    });
                    
                    observer.observe(searchContainer, {
                        childList: true,
                        subtree: true
                    });
                }
            }
            
            // Initialize after DOM is ready
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() {
                    setTimeout(setupSearchMonitoring, 2000);
                });
            } else {
                setTimeout(setupSearchMonitoring, 2000);
            }
        }
        
        // Initialize search accessibility
        initializeSearchAccessibility();
    </script>
    <!-- Docsify v4 -->
    <script src="//cdn.jsdelivr.net/npm/docsify@4 "></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/js/docsify-themeable.min.js "></script>
    <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js "></script>
    <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js "></script>
    <script src="//cdn.jsdelivr.net/npm/docsify-prism@latest/dist/docsify-prism.min.js "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/autoloader/prism-autoloader.min.js "></script>
    <script src="https://cdn.jsdelivr.net/npm/docsify-tabs@1 "></script>
    <script>
        if (typeof navigator.serviceWorker !== 'undefined') {
          navigator.serviceWorker.register('sw.js')
        }
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
        const githubCorner = document.querySelector('.github-corner');
        if (githubCorner) {
            githubCorner.setAttribute('title', 'View source on GitHub');
        }
        });
    </script>
    

</body>

</html>
